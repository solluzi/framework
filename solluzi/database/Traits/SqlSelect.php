<?php
declare(strict_types=1);
namespace Solluzi\Database\Traits;

use Solluzi\Interfaces\Database\SQLQueryBuilder;

trait SqlSelect
{
    /**
     * select function
     *  creates an sql to make selections in the table 
     * 
     * @param string $table
     * @param string $alias
     * @param array $fields
     * @return SQLQueryBuilder
     */
    public function select(string $alias, array $fields = []): SQLQueryBuilder
    {
        /*
        |----------------------------------------------------------------------------------------------
        | reset
        |----------------------------------------------------------------------------------------------
        |
        | clear the sql object
        |
        */
        $this->reset();

        /*
        |----------------------------------------------------------------------------------------------
        | fields
        |----------------------------------------------------------------------------------------------
        |
        | get fileds ass array
        |
        */
        $field = $fields;
        /*
        |----------------------------------------------------------------------------------------------
        | alias
        |----------------------------------------------------------------------------------------------
        |
        | adds alias
        |
        */
        //$alias = ($alias)  ? ' '.$alias. ' ' : null;

        /*
        |----------------------------------------------------------------------------------------------
        | base
        |----------------------------------------------------------------------------------------------
        |
        | create a base query
        |
        */

        $this->query->base = "SELECT " . implode(", ", $field) . " FROM " . $this->table . ' ' . $alias;
        /*
        |----------------------------------------------------------------------------------------------
        | type
        |----------------------------------------------------------------------------------------------
        |
        | set the query type
        |
        */
        $this->query->type = 'select';
        /*
        |----------------------------------------------------------------------------------------------
        | this
        |----------------------------------------------------------------------------------------------
        |
        | return objects
        |
        */
        return $this;
    }
}